{{- define "main" }}

<!-- 新 Bootstrap4 核心 CSS 文件 -->
<link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/css/bootstrap.min.css">
 
<!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
<script src="https://cdn.staticfile.org/jquery/3.2.1/jquery.min.js"></script>
 
<!-- bootstrap.bundle.min.js 用于弹窗、提示、下拉菜单，包含了 popper.min.js -->
<script src="https://cdn.staticfile.org/popper.js/1.15.0/umd/popper.min.js"></script>
 
<!-- 最新的 Bootstrap4 核心 JavaScript 文件 -->
<script src="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>

<header class="page-header">
  <h1>{{ .Title }}</h1>
  {{- if .Description }}
  <div class="post-description">
    {{ .Description }}
  </div>
  {{- end }}
</header>

<div class="conteiner">
    <table class="table table-hover">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Title</th>
            <th scope="col">Language</th>
            <th scope="col">Status</th>
          </tr>
        </thead>
    </table>
</div>

<script>
    // load leetcode-submission.json
    var data 
    cols = ['title', 'lang', 'status_display']
    fetch("/leetcode-submissions.json").then(response => response.json()).then(json => {
        // render data
        data = json
        tbody = document.createElement('tbody')
        for (let i in data) {
            row = data[i]
            tr = document.createElement('tr')
            th = document.createElement('th', scope='row')
            th.innerHTML = parseInt(i) + 1
            tr.appendChild(th)
            for (let j in cols) {
                td = document.createElement('td')
                td.innerHTML = row[cols[j]]
                tr.appendChild(td)
            }
            tbody.appendChild(tr)
        }
        // find table
        var table = document.getElementsByTagName('table')[0]
        table.appendChild(tbody)
    })
</script>




{{- end }}{{/* end main */}}