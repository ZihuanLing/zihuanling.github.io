<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | Coding and Life</title><meta name=keywords content><meta name=description content="Posts - Coding and Life"><meta name=author content="LingZihuan"><link rel=canonical href=https://zihuanling.github.io/posts/><meta name=google-site-verification content="G-FEL07ZZK1M"><link crossorigin=anonymous href=/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css integrity="sha256-yIlj/i15RiAA/Q+xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as=style><link rel=preload href=/favicon.ico as=image><link rel=icon href=https://zihuanling.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://zihuanling.github.io/favicon.ico><link rel=icon type=image/png sizes=32x32 href=https://zihuanling.github.io/favicon.ico><link rel=apple-touch-icon href=https://zihuanling.github.io/apple-touch-icon.png><link rel=mask-icon href=https://zihuanling.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://zihuanling.github.io/posts/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script src=https://cdn.staticfile.org/mermaid/9.0.1/mermaid.min.js></script>
<script>const config={startOnLoad:!0,theme:'forest',themeVariables:{lineColor:"#fafafa"},flowchart:{useMaxWidth:!1,htmlLabels:!0}};mermaid.initialize(config),window.onload=()=>{window.mermaid.init(void 0,document.querySelectorAll('.language-mermaid'))}</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src='https://hm.baidu.com/hm.js?57e5cca974e7e653044600798423acf5',e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-FEL07ZZK1M"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-FEL07ZZK1M',{anonymize_ip:!1})}</script><meta property="og:title" content="Posts"><meta property="og:description" content="ExampleSite description"><meta property="og:type" content="website"><meta property="og:url" content="https://zihuanling.github.io/posts/"><meta property="og:image" content="https://zihuanling.github.io/avatar.jpeg"><meta property="og:site_name" content="ExampleSite"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://zihuanling.github.io/avatar.jpeg"><meta name=twitter:title content="Posts"><meta name=twitter:description content="ExampleSite description"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://zihuanling.github.io/posts/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><header class=header><nav class=nav><div class=logo><a href=https://zihuanling.github.io/ accesskey=h title="Coding and Life (Alt + H)"><img src=https://zihuanling.github.io/favicon.ico alt=logo aria-label=logo height=35>Coding and Life</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://zihuanling.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://zihuanling.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://zihuanling.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://zihuanling.github.io/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://zihuanling.github.io/>Home</a></div><h1>Posts</h1></header><article class=post-entry><header class=entry-header><h2>LeetCode 179：最大数 -- 一道有点意思的题目</h2></header><section class=entry-content><p>今天做了一道有点意思的算法题目，在这里记录下。提交记录
leetcode 179: 最大数 给定一组非负整数 nums，重新排列每个数的顺序（每个数不可拆分）使之组成一个最大的整数。
注意：输出结果可能非常大，所以你需要返回一个字符串而不是整数。
示例 1：
输入：nums = [10,2] 输出：“210” 示例 2：
输入：nums = [3,30,34,5,9] 输出：“9534330”
提示：
1 &lt;= nums.length &lt;= 100 0 &lt;= nums[i] &lt;= 109
上最终AC代码： def greater(a, b): # 对比函数，a > b # a, b expect str return int(a + b) - int(b + a) > 0 # 快排 def pivot(arr, low, high): x = arr[high] j = low - 1 for i in range(low, high): if greater2(arr[i], x): j += 1 arr[i], arr[j] = arr[j], arr[i] j += 1 arr[j], arr[high] = arr[high], arr[j] return j def quick_sort(arr, low, high): if low &lt; high: pi = pivot(arr, low, high) quick_sort(arr, low, pi - 1) quick_sort(arr, pi + 1, high) class Solution: def largestNumber(self, nums: List[int]) -> str: nums = [str(n) for n in nums] quick_sort(nums, 0, len(nums) - 1) if nums[0] == '0': return '0' return ''....</p></section><footer class=entry-footer><span title='2022-04-28 22:24:12 +0800 +0800'>April 28, 2022</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;LingZihuan</footer><a class=entry-link aria-label="post link to LeetCode 179：最大数 -- 一道有点意思的题目" href=https://zihuanling.github.io/posts/leetcode-179/></a></article><article class=post-entry><header class=entry-header><h2>Go与Hdf5，数据读写实践</h2></header><section class=entry-content><p>前言 HDF5 (Hierarchical Data Format) 是由美国伊利诺伊大学厄巴纳-香槟分校，是一种跨平台传输的文件格式，存储图像和数据
优势 通用数据模型，可以通过无限多种数据类型表示非常复杂、异构的数据对象和各种各样的元数据 高速原始数据采集 可移植和可扩展，文件大小没有限制 自描述的，不需要外部信息应用程序来解释文件的结构和内容 拥有用于管理、操作、查看和分析数据的开源工具和应用程序软件生态系统 在各种计算平台和编程语言（包括C、C++、Fortran90和Java）上运行的软件库。 参考文章链接： 大数据存储 hdf5简介
实践 环境安装 对于go语言，hdf5已经有了支持的库： gonum/hdf5，我们可以直接安装这个包，并且使用。
需要注意的是，这个包使用了 cgo，依赖了hdf5的C语言库，因此，需要我们自己预先安装，使用centos系统，可以很方便安装，直接使用命令：
yum install -y hdf5 hdf5-devel 当然，如果系统没有软件源的话，hdf5也提供了源码安装，下载 hdf5-1.12.1，解压后，执行安装：
cd hdf5-1.12.1 ./configure --prefix /usr/local make -j 2 && make install 然后我们初始化一个项目，名为 h5，用于编写go、hdf5 的简单测试用例
mkdir -p ~/go/src/h5 cd ~/go/src/h5 go mod init # 安装 go get -v gonum.org/v1/hdf5 使用 创建文件 func main() { // 创建hdf5文件 f, err := hdf5.CreateFile("data.h5", hdf5.F_ACC_TRUNC) if err !...</p></section><footer class=entry-footer><span title='2022-04-23 22:10:10 +0800 +0800'>April 23, 2022</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;LingZihuan</footer><a class=entry-link aria-label="post link to Go与Hdf5，数据读写实践" href=https://zihuanling.github.io/posts/go-hdf5-practise/></a></article><article class=post-entry><header class=entry-header><h2>使用python socket实现双向的tcp通信</h2></header><section class=entry-content><p>很久之前玩过的python socket，今天用来做个双向的通信程序。
服务端代码： server.py
# coding: utf-8 # tcp stream server import socket import logging import time import datetime as dt from threading import Thread, currentThread # 配置logging logging.basicConfig( level=logging.INFO, format="%(asctime)s %(levelname)s %(process)s %(threadName)s |%(message)s", ) class Server: """ socket 服务端 """ def __init__(self, host='localhost', port=8099): self._sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM) self._sock.bind((host, port)) self.msg = None def read(self, conn: socket.socket = None): """ 从tcp连接里面读取数据 """ while True: try: data = conn.recv(1024).decode() except Exception as e: logging....</p></section><footer class=entry-footer><span title='2022-04-22 13:53:32 +0800 +0800'>April 22, 2022</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;LingZihuan</footer><a class=entry-link aria-label="post link to 使用python socket实现双向的tcp通信" href=https://zihuanling.github.io/posts/python-socket-bothway-connection/></a></article><article class=post-entry><header class=entry-header><h2>go: 读取文件</h2></header><section class=entry-content><p>学习网站： https://gobyexample.com/reading-files
可以直接读取文件里面的所有内容到内存里面：
data, err := os.ReadFile("/tmp/data") fmt.Println(string(data)) 有时候想要自定义一些操作，比如读取文件里面的某些内容，从某个位置开始读取等，这时候，我们可以用 os.Open 打开一个文件，返回一个 os.File 对象。
f, err := os.Open("/tmp/data") 我们可以定义一个缓存（5个字节的[]byte类型），然后从文件中读取内容，读取的内容大小上限为5：
b1 := make([]byte, 5) n1, err := f.Read(b1) fmt.Printf("%d bytes read from file: %s\n", n1, string(b1)) 调用 f.Read来读取文件，返回两个结果，第一个为实际读取的内容长度，第二个为error。我们定义了一个长度为5的 b1 来存储文件内容，但是文件里面的内容长度可能只有3，因此，n1不一定等于5，它是实际读取的长度。
同样，我们还能用 os.Seek，来查找文件的位置，第一个参数为 offset，意味着偏移量，第二个参数为 whence，
0表示从文件的开始位置进行偏移查找 1表示从文件的当前位置开始偏移，如果之前已经设置过偏移，再次设置则从当前位置开始偏移 2表示从文件的末尾开始偏移 o2, err := f.Seek(6, 0) b2 := make([]byte, 2) n2, err := f.Read(b2) fmt.Printf("%d bytes read at %d\n", n2, o2) fmt.Printf("Value is : %s\n", string(b2[:n2])) golang 的 io包提供了一些有用的函数，帮助我们高效读取。比如 io....</p></section><footer class=entry-footer><span title='2022-04-18 00:05:28 +0800 +0800'>April 18, 2022</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;LingZihuan</footer><a class=entry-link aria-label="post link to go: 读取文件" href=https://zihuanling.github.io/posts/go-readfiles/></a></article><article class=post-entry><header class=entry-header><h2>go: grpc和protobuf</h2></header><section class=entry-content><p>gRPC 一个高性能、开源的通用RPC框架。
gPPC是一个现代的开源高性能的远程过程调用框架，并且可以运行在任何环境中。它可以有效地连接数据中心内和跨数据中心的服务，支持负载均衡、跟踪、健康检查和身份验证。它也适用于分布式计算的最后一英里，将设备、移动应用程序和浏览器连接到后端服务。
gRPC is a modern open source high performance Remote Procedure Call (RPC) framework that can run in any environment. It can efficiently connect services in and across data centers with pluggable support for load balancing, tracing, health checking and authentication. It is also applicable in last mile of distributed computing to connect devices, mobile applications and browsers to backend services.
github 地址： https://github.com/grpc/grpc
原来是用 C++ 写的，后来也有了go语言版本：https://github.com/grpc/grpc-go
gRPC 和 go gPPC支持多个语言和平台，包括GO、Python、C++、Nodejs等，我们接下来学习的是使用go来体验一下gRPC的功能。...</p></section><footer class=entry-footer><span title='2022-04-16 22:34:33 +0800 +0800'>April 16, 2022</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;LingZihuan</footer><a class=entry-link aria-label="post link to go: grpc和protobuf" href=https://zihuanling.github.io/posts/go-grpc-protobuf/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://zihuanling.github.io/posts/>« Prev Page</a>
<a class=next href=https://zihuanling.github.io/posts/page/3/>Next Page »</a></nav></footer></main><footer class=footer><span>&copy; 2022 <a href=https://zihuanling.github.io/>Coding and Life</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>